<!-- saved from url=(0022)http://internet.e-mail -->
<!-- saved from url=(0022)http://internet.e-mail -->
<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=ks_c_5601-1987">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="Homunculus%20AI%20Script%20User%20Guide_filelist.xml">
<link rel=Edit-Time-Data
href="Homunculus%20AI%20Script%20User%20Guide_editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>호문클루스 인공지능 스크립트 설명서 </title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceType"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceName"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>nj</o:Author>
  <o:LastAuthor>cianar</o:LastAuthor>
  <o:Revision>208</o:Revision>
  <o:TotalTime>1376</o:TotalTime>
  <o:Created>2005-07-15T02:53:00Z</o:Created>
  <o:LastSaved>2006-01-18T00:45:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>4202</o:Words>
  <o:Characters>23952</o:Characters>
  <o:Company>gravity</o:Company>
  <o:Lines>199</o:Lines>
  <o:Paragraphs>56</o:Paragraphs>
  <o:CharactersWithSpaces>28098</o:CharactersWithSpaces>
  <o:Version>10.2625</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
  <o:DoNotOrganizeInFolder/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>110</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:바탕;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:Batang;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:宋\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@바탕";
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	text-autospace:none;
	word-break:break-all;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:바탕;
	mso-fareast-language:KO;}
p.MsoDate, li.MsoDate, div.MsoDate
	{mso-style-next:표준;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	text-autospace:none;
	word-break:break-all;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:바탕;
	mso-fareast-language:KO;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.a, li.a, div.a
	{mso-style-name:표준;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	text-autospace:none;
	word-break:break-all;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:바탕;
	mso-fareast-language:KO;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:99.25pt 85.05pt 85.05pt 85.05pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;
	layout-grid:18.0pt;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1125197937;
	mso-list-type:hybrid;
	mso-list-template-ids:-570405952 452466592 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-start-at:7;
	mso-level-text:"%1\)";
	mso-level-tab-stop:63.75pt;
	mso-level-number-position:left;
	margin-left:63.75pt;
	text-indent:-21.75pt;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:1429152377;
	mso-list-type:hybrid;
	mso-list-template-ids:1365420118 2124049418 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-suffix:space;
	mso-level-text:"%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:30.2pt;
	text-indent:-10.2pt;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="8194"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
  <o:rules v:ext="edit">
   <o:r id="V:Rule3" type="connector" idref="#_x0000_s1058">
    <o:proxy start="" idref="#_x0000_s1032" connectloc="2"/>
    <o:proxy end="" idref="#_x0000_s1032" connectloc="3"/>
   </o:r>
   <o:r id="V:Rule4" type="connector" idref="#_x0000_s1059">
    <o:proxy start="" idref="#_x0000_s1031" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1031" connectloc="0"/>
   </o:r>
  </o:rules>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:40.0pt'>

<div class=Section1 style='layout-grid:18.0pt'>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Homunculus AI Script User’s Guide </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Table of Contents</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#소개">1.- Introduction</a></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#스크립트작동구조">2- Script Performance Properties</a>
</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#라그나로크클라이언트내장함수설명">3- Ragnarok Client Built-In
Functions</a> </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#라그나로크클라이언트내장상수값설명">4- Ragnarok Client
Built-In Constant Values</a> </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#기본적으로제공된스크립트설명">5- Basic Script</a> </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#기타">6- Miscellaneous</a></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a href="#변경사항">7- Update History</a></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a name=소개>1 &#8211; Introduction</a></p>

<span style='mso-bookmark:소개'></span>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>We developed the Homunculus AI System to enable RO
gamers to customize Homunculus behaviors by creating their own, unique AI files
that they can share with the RO community.<span style='mso-spacerun:yes'>&nbsp;
</span>Homunculus AI scripts are written in the LUA programming language and
processed by a program embedded in the RO client.<span
style='mso-spacerun:yes'>&nbsp; </span>For more information on the LUA
language, please visit <a href="http://www.lua.org/">http://www.lua.org</a>.<span
style='mso-spacerun:yes'>&nbsp; </span>Homunculus action is controlled by the
AI.lua and Util.lua files inside the AI folder in the Ragnarok Client program
folder.<span style='mso-spacerun:yes'>&nbsp; </span>We plan to add more
functions to the Homunculus AI scripts to enhance Homunculus behavior
customization.<span style='mso-spacerun:yes'>&nbsp; </span>For users who are
unfamiliar with scripting or computer programming, we will provide official AI
scripts that all players can employ as a reference.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a name=스크립트작동구조>2- Script Performance Properties</a></p>

<span style='mso-bookmark:스크립트작동구조'></span>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Three files located in the AI folder in the Ragnarok
Online client program directory (C:\Program Files\Gravity\Ragnarok Online\AI by
default) are central to the Homunculus AI script performance: AI.lua, Const.lua
and Util.lua.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><i style='mso-bidi-font-style:normal'><o:p>&nbsp;</o:p></i></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><i style='mso-bidi-font-style:normal'>● AI.lua<o:p></o:p></i></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>AI.lua
contains the AI(id) functions that dictate a Homunculus’s action.<span
style='mso-spacerun:yes'>&nbsp; </span>You can modify your Homunculus’s
behavior by editing the contents of this file.<span
style='mso-spacerun:yes'>&nbsp; </span>The RO client requires a working AI.lua
file for Homunculus operation and if the RO client finds any grammatical or
logical errors in this file, a message noting the location of the error will be
displayed and the program will halt.<span style='mso-spacerun:yes'>&nbsp;
</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><i style='mso-bidi-font-style:normal'>● Const.lua<o:p></o:p></i></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
file contains constant variables used in Homunculus scripting and operation,
and it refers to both AI.lua and Util.lua.<span style='mso-spacerun:yes'>&nbsp;
</span>The RO client doesn’t require this file for Homunculus operation, but
const.lua is necessary for enabling Homunculus behaviors of greater complexity.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><i style='mso-bidi-font-style:normal'>● Util.lua<o:p></o:p></i></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
file contains the data structure for the Homunculus AI, which we will call a
List, and a few basic computation functions.<span
style='mso-spacerun:yes'>&nbsp; </span>The RO client doesn’t require this file
for Homunculus operation, but Util.lua is necessary to enable the Homunculus AI
to queue commands and to store lists of information for Homunculus operation,
such as specific enemy monsters or characters.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Each time before a Homunculus spawns, the RO client
automatically processes the AI.lua and Util.lua files.<span
style='mso-spacerun:yes'>&nbsp; </span>If there are any errors in AI.lua or
Util.lua files, the RO client will halt and display an error message detailing
the location of the error.<span style='mso-spacerun:yes'>&nbsp;
</span>Otherwise, the RO client will execute the AI(id) functions that are
scripted in the AI.lua file, activating the Homunculus AI.<span
style='mso-spacerun:yes'>&nbsp; </span>A Homunculus spawns when the following
situations occur.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>1) Creating a Homunculus </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>2) Reviving a dead Homunculus</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>3) Starting the game with a
character that possesses a Homunculus </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>4) Using Fly Wing or Butterfly
Wing with a character that possesses a Homunculus</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>5) Using a Warp Portal with a character
that possesses a Homunculus </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>6) Using the Kafra Teleport
Service with a character that possesses a Homunculus </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a name=라그나로크클라이언트내장함수설명>3- Ragnarok Client Built-In
Functions</a></p>

<span style='mso-bookmark:라그나로크클라이언트내장함수설명'></span>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
AI(id) functions are already built into the RO client and include fundamental
actions such as movement, attacking, eating and skill usage.<span
style='mso-spacerun:yes'>&nbsp; </span>These functions use id numbers to
identify in-game objects such as specific Homunculi, monsters or
characters.<span style='mso-spacerun:yes'>&nbsp; </span>The following is a
reference list of basic functions that Homunculi can perform.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>1)<span
style='mso-spacerun:yes'>&nbsp; </span>MoveToOwner (id)</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>id: Homunculus
ID</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>Return value:
None</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>Function:
Homunculus moves to the spot closest to its owner. </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>2)<span
style='mso-spacerun:yes'>&nbsp; </span>Move (id,x,y)</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>id: Homunculus
ID</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x:
x-axis coordinates on current map</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>y: y-axis
coordinates on current map</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>Return value:
none</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>Function: Homunculus
moves to a specific destination on the current map </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>3)<span
style='mso-spacerun:yes'>&nbsp; </span>Attack (id1,id2)</p>

<p class=MsoNormal align=left style='margin-left:26.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>id1:
Homunculus ID (Attacker)</p>

<p class=MsoNormal align=left style='margin-left:26.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>id2: Target ID</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:66.0pt;
mso-char-indent-count:5.5;mso-layout-grid-align:none;word-break:normal'>Return
value: none</p>

<p class=MsoNormal align=left style='margin-left:26.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>Function:
Commands Homunculus (id1) to attack a target (id2).</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>4)<span style='mso-spacerun:yes'>&nbsp; </span>GetV
(V_,id) end<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:24.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>V_...: A constant variable that
displays the property of the targeted object<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:24.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>id: Target object<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:150.0pt;mso-para-margin-left:
5.5gd;text-align:left;text-indent:-84.0pt;mso-char-indent-count:-7.0;
mso-layout-grid-align:none;word-break:normal;mso-char-indent-size:12pt'>Return
value: The constant variable used in this function determines which return
value is used.<span style='mso-spacerun:yes'>&nbsp; </span>The return value for
V_POSITION is x,y coordinates, and the return value for V_HP is an HP value.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:24.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Function: Gains id’s property
(V_...). Constant value of property is defined in Util.lua file. <o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:66.0pt;
mso-char-indent-count:5.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>Refer to “4- Ragnarok Client Built-In Constant
Value” for more details about these properties.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:24.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>5)<span style='mso-spacerun:yes'>&nbsp;
</span>GetActors ()<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Return value: A set of IDs that
are returned in LUA format.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Function: Views the IDs of
characters, NPCs, monsters, items and skills within the character’s screen. <o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>6)<span style='mso-spacerun:yes'>&nbsp;
</span>GetTick ()<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Return value: 1/1000 second unit
numbers<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:128.05pt;mso-para-margin-left:
6.67gd;text-align:left;text-indent:-48.0pt;mso-char-indent-count:-4.0;
mso-layout-grid-align:none;word-break:normal;mso-char-indent-size:12pt'>Function:
Displays a timer that starts at 0 and increases by 1 each 1/1000 seconds.</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:63.75pt;text-align:left;
text-indent:-21.75pt;mso-list:l0 level1 lfo2;tab-stops:list 63.75pt;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>GetMsg (id)</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>id: Homunculus
ID</p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal'>Return value: Direct message from RO client that is returned
in LUA format.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Function: Deliver user’s commands
input through RO client interface (Homunculus Window) as a message string to
the AI script<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>8)<span style='mso-spacerun:yes'>&nbsp;
</span>GetResMsg (id)<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>id: Homunculus ID<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Return value: A reserved message
string from the RO client that is returned in LUA format.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Function: Delivers user’s reserved
message as script language. <o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>10)<span style='mso-spacerun:yes'>&nbsp;
</span>SkillObject (id, level, skill, target)<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>id: Homunculus ID<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:30.0pt;mso-para-margin-left:
2.5gd;text-align:left;text-indent:48.0pt;mso-char-indent-count:4.0;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'>Return value: none<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:30.0pt;mso-para-margin-left:
2.5gd;text-align:left;text-indent:48.0pt;mso-char-indent-count:4.0;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'>Function: Homunculus performs
a skill of a specific level on a target. <o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>11)<span style='mso-spacerun:yes'>&nbsp;
</span>SkillGround (id, level, skill, x, y)<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Function: Homunculus performs a skill
of a specific level on the ground.<span style='mso-spacerun:yes'>&nbsp;
</span>The x,y coordinates input in this function determines where the ground
targeting skill will be cast.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:38.0pt;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>13)<span style='mso-spacerun:yes'>&nbsp;
</span>IsMonster (id)<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:.5in;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>id: An in-game object<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:.5in;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Return value: The id will have a
return value of 1 if the object is a monster; all other objects have a return
value of 0.<o:p></o:p></p>

<p class=MsoNormal align=left style='margin-left:.5in;text-align:left;
text-indent:42.0pt;mso-char-indent-count:3.5;mso-layout-grid-align:none;
word-break:normal;mso-char-indent-size:12pt'>Function: Recognizes monsters.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>14)
TraceAI (string)</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>string: String
that is recorded in the TraceAI.txt file.</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'>Function:
Records the status of the script as it is processed and analyzed.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a name=라그나로크클라이언트내장상수값설명>4- Ragnarok Client Built-In
Constant Values</a></p>

<span style='mso-bookmark:라그나로크클라이언트내장상수값설명'></span>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
following is a list of the built-in constant variables defined in the Const.lua
file.<span style='mso-spacerun:yes'>&nbsp; </span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>4-1. Constant Values used for GetV function</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_OWNER<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the Homunculus owner’s ID<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>V_POSITION<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the current location’s x,y coordinates</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_TYPE<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Defines an object (Not implemented yet)</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_MOTION<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the current action </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_ATTACKRANGE<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the attack range (Not implemented yet; temporarily set as 1 cell)</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_TARGET<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>5
<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the target of an attack or skill</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_SKILLATTACKRANGE<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>6
<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the skill attack range (Not implemented yet)</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_HOMUNTYPE<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>7<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Returns the type of Homunculus</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_HP<span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>8<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Current HP amount of a Homunculus or its owner </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_SP<span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>9<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Current SP amount of a Homunculus or its owner</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_MAXHP<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>10<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
The maximum HP of a Homunculus or its owner </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>V_MAXSP<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>11<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
The maximum SP of a Homunculus or its owner </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>4-2. Return values for GetV (V_MOTION, id)</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>MOTION_STAND<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Standing</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>MOTION_MOVE<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Movement</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>MOTION_ATTACK<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Attack</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>MOTION_DEAD<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Dead </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>MOTION_ATTACK2<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>9
<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Attack</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>4-3. Return values for GetV (V_HOMUNTYPE, id)</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>LIF<span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Lif</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>AMISTR<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Amistr</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>FILIR<span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Filir</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>VANILMIRTH<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Vanilmirth</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>LIF_H<span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>5<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Advanced Lif</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>AMISTR_H<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>6<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Advanced Amistr</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>FILIR_H<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>7<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Advanced Filir</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>VANILMIRTH_H<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>8<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>:
Advanced Vanilmirth</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>4-4. Return values of GetMsg (id), GetResMsg (id), i.e.
Homunculus commands performed through RO client interface<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>NOME_CMD<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
No Command<span style='mso-tab-count:1'> </span><o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:42.0pt;
mso-char-indent-count:3.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'>{Command Number}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MOVE_CMD<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Move</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number, x coordinate, y coordinate}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp; </span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>STOP_CMD<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Stop</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>ATTACT_OBJET_CMD<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Attack</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number, Target ID}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>ATTACK_AREA_CMD<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>4<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Area Attack</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number, x coordinate, y coordinate}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>PATROL_CMD<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>5<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Patrol</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number, x coordinate, y coordinate}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>HOLD_CMD<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>6<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Mark</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>SKILL_OBJECT_CMD<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>7<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Use Skill</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number, Selected Level, Type, Target ID}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>SKILL_AREA_CMD<span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>8<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Use Area Attack Skill</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number, Selected Level, Type, x coordinate, y coordinate}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>FOLLOW_CMD<span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>9<span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Follow Its Owner</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{Command
Number}</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>5- <a name=기본적으로제공된스크립트설명>Basic Script</a></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>5-1. The Essentials of AI Scripting</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Homunculus AI scripts can written using text format
files through a text editor such as Notepad.<span
style='mso-spacerun:yes'>&nbsp; </span>The script’s file name extension must be
“.lua” for it to be recognized as a LUA format file.<span
style='mso-spacerun:yes'>&nbsp; </span>Before experimenting with Homunculus AI
or implementing a new AI script, you should save a copy of the official AI
script in another folder for backup purposes.<span
style='mso-spacerun:yes'>&nbsp; </span>But first we need to understand
Homunculus states and actions before we can begin scripting actual Homunculus
functions.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>5-2. <st1:place><st1:PlaceName>Finite</st1:PlaceName> <st1:PlaceType>State</st1:PlaceType></st1:place>
Machine (FSM) </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>The Homunculus AI System is based on the Finite State
Machine a.k.a. FSM theory, a model of behavior defined by states, transitions
between states, and actions.<span style='mso-spacerun:yes'>&nbsp; </span>For the
purposes of Homunculus AI, we will be using four very basic states.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><b style='mso-bidi-font-weight:normal'>IDLE<o:p></o:p></b></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
the IDLE state, the Homunculus will rest; and does not perform any actions.</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>This state may be desirable when
there are no monsters around and the owner is doing nothing, giving the
Homunculus an opportunity to rest.</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>When a Homunculus spawns, it is
initially in the IDLE state.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><b style='mso-bidi-font-weight:normal'>CHASE<o:p></o:p></b></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>In the CHASE state, the
Homunculus will follow the targeted object.</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>This state may be desirable when
an enemy attacks the Homunculus or its owner so that the Homunculus can
approach its target close enough to ATTACK it.</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>When encountering monsters that
are too powerful for the Homunculus within a specific distance, users can
deactivate the CHASE stat in order to evade these monsters.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><b style='mso-bidi-font-weight:normal'>ATTACK<o:p></o:p></b></p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
mso-layout-grid-align:none;word-break:normal'>In the ATTACK state, the
Homunculus will continuously perform the action of attacking the targeted
object.</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
mso-layout-grid-align:none;word-break:normal'>This state may be desirable when
an object causes damage to the Homunculus’s owner or if any monsters are in the
Homunculus’s vicinity.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><b style='mso-bidi-font-weight:normal'>FOLLOW<o:p></o:p></b></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><b style='mso-bidi-font-weight:normal'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b>In
the FOLLOW state, the Homunculus will travel towards its owner.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
state may be desirable when a Homunculus defeats an enemy or when an enemy is
too far away from the owner.</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'>If we want the Homunculus to stay
a certain distance away from the owner, we change to the IDLE state at a
certain distance.</p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
mso-layout-grid-align:none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>When creating a Homunculus AI script, consider which
battle situations you and your Homunculus are likely to encounter and which
actions the Homunculus should take in response to battle outcomes and other
situational changes.<span style='mso-spacerun:yes'>&nbsp; </span>This diagram
illustrates the scripted behavior of a Homunculus, how it accordingly
transitions between different states in different situations.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-field-code:"SHAPE  \\* MERGEFORMAT";
mso-field-lock:yes'><v:group id="_x0000_s1029" editas="canvas" style='position:absolute;
 margin-left:0;margin-top:0;width:467.25pt;height:408pt;z-index:1;
 mso-position-horizontal-relative:char;mso-position-vertical-relative:line'
 coordorigin="4218,9335" coordsize="7912,6910">
 <o:lock v:ext="edit" aspectratio="t"/>
 <v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75"
  o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
  <v:stroke joinstyle="miter"/>
  <v:formulas>
   <v:f eqn="if lineDrawn pixelLineWidth 0"/>
   <v:f eqn="sum @0 1 0"/>
   <v:f eqn="sum 0 0 @1"/>
   <v:f eqn="prod @2 1 2"/>
   <v:f eqn="prod @3 21600 pixelWidth"/>
   <v:f eqn="prod @3 21600 pixelHeight"/>
   <v:f eqn="sum @0 0 1"/>
   <v:f eqn="prod @6 1 2"/>
   <v:f eqn="prod @7 21600 pixelWidth"/>
   <v:f eqn="sum @8 21600 0"/>
   <v:f eqn="prod @7 21600 pixelHeight"/>
   <v:f eqn="sum @10 21600 0"/>
  </v:formulas>
  <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
  <o:lock v:ext="edit" aspectratio="t"/>
 </v:shapetype><v:shape id="_x0000_s1028" type="#_x0000_t75" style='position:absolute;
  left:4218;top:9335;width:7912;height:6910' o:preferrelative="f">
  <v:fill o:detectmouseclick="t"/>
  <v:path o:extrusionok="t" o:connecttype="none"/>
 </v:shape><v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202"
  path="m,l,21600r21600,l21600,xe">
  <v:stroke joinstyle="miter"/>
  <v:path gradientshapeok="t" o:connecttype="rect"/>
 </v:shapetype><v:shape id="_x0000_s1030" type="#_x0000_t202" style='position:absolute;
  left:5323;top:10821;width:736;height:433'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>IDLE</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1031" type="#_x0000_t202" style='position:absolute;
  left:9539;top:10885;width:1004;height:433'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>CHASE</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1032" type="#_x0000_t202" style='position:absolute;
  left:9449;top:14759;width:1158;height:444'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>ATTACK</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1033" type="#_x0000_t202" style='position:absolute;
  left:5399;top:14707;width:1118;height:496'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>FOLLOW</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:line id="_x0000_s1040" style='position:absolute' from="6059,10885"
  to="9870,10885">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1041" style='position:absolute;flip:x y' from="6059,11318"
  to="9870,11319">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1042" style='position:absolute' from="10543,11319"
  to="10544,14707">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1043" style='position:absolute;flip:y' from="9870,11406"
  to="9871,14607">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1044" style='position:absolute;flip:x y' from="6134,11406"
  to="9870,14759">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1045" style='position:absolute' from="5958,11406"
  to="5971,14707">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1046" style='position:absolute;flip:y' from="5463,11254"
  to="5476,14707">
  <v:stroke endarrow="block"/>
 </v:line><v:shape id="_x0000_s1049" type="#_x0000_t202" style='position:absolute;
  left:6948;top:11406;width:2425;height:1054'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>1. Enemy is no longer in sight.</p>
     <p class=MsoNormal>2. Enemy is defeated.</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1050" type="#_x0000_t202" style='position:absolute;
  left:10543;top:12104;width:1422;height:838'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>3. Enemy is out of range.</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1051" type="#_x0000_t202" style='position:absolute;
  left:4294;top:13833;width:1169;height:774'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>Close to its owner</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1054" type="#_x0000_t202" style='position:absolute;
  left:8307;top:12460;width:1563;height:762'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>3. Enemy is out of range.</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1047" type="#_x0000_t202" style='position:absolute;
  left:6707;top:9589;width:2324;height:1296'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>1. Owner is being attacked</p>
     <p class=MsoNormal>2. Homunculus is being attacked.</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1055" type="#_x0000_t202" style='position:absolute;
  left:7520;top:14313;width:1929;height:1106'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>1. Enemy is defeated.</p>
     <p class=MsoNormal>2. Enemy is no longer in sight.</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1057" type="#_x0000_t202" style='position:absolute;
  left:5958;top:12638;width:1638;height:1359'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>Homunculus is too far away from its owner.</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shapetype id="_x0000_t39" coordsize="21600,21600" o:spt="39"
  o:oned="t" path="m,c@0,0@1@6@1@5@1@7@3@8@2@8@4@8,21600@9,21600,21600e"
  filled="f">
  <v:formulas>
   <v:f eqn="mid #0 0"/>
   <v:f eqn="val #0"/>
   <v:f eqn="mid #0 21600"/>
   <v:f eqn="mid #0 @2"/>
   <v:f eqn="mid @2 21600"/>
   <v:f eqn="mid #1 0"/>
   <v:f eqn="mid @5 0"/>
   <v:f eqn="mid #1 @5"/>
   <v:f eqn="val #1"/>
   <v:f eqn="mid #1 21600"/>
  </v:formulas>
  <v:path arrowok="t" fillok="f" o:connecttype="none"/>
  <v:handles>
   <v:h position="#0,@5"/>
   <v:h position="@2,#1"/>
  </v:handles>
  <o:lock v:ext="edit" shapetype="t"/>
 </v:shapetype><v:shape id="_x0000_s1058" type="#_x0000_t39" style='position:absolute;
  left:10207;top:14803;width:221;height:579;rotation:90;flip:x y'
  o:connectortype="curved" adj="-29679,32968,578089">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1059" type="#_x0000_t39" style='position:absolute;
  left:10041;top:10885;width:502;height:216;flip:x y' o:connectortype="curved"
  adj="-13113,51975,277595">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1060" type="#_x0000_t202" style='position:absolute;
  left:9870;top:9589;width:1981;height:902'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>4. Enemy’s location changes</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1061" type="#_x0000_t202" style='position:absolute;
  left:10607;top:15419;width:1523;height:661'>
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>4. Rest for another battle</p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:oval id="_x0000_s1067" style='position:absolute;left:5597;top:9976;
  width:196;height:197' fillcolor="black"/>
 <v:line id="_x0000_s1068" style='position:absolute' from="5691,10173" to="5704,10821">
  <v:stroke endarrow="block"/>
 </v:line><w:wrap side="left"/>
 <w:anchorlock/>
</v:group><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:467.25pt;
 height:408pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>5-3 Util.lua</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Before creating the actual AI script, let’s create a “Util.lua”
file that will contain additional functions for the Homunculus.<span
style='mso-spacerun:yes'>&nbsp; </span>If you wish to create your own
“Util.lua” from scratch, simply create a text file, rename it as “Util.lua,”
and then add the following text.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>require<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span>“./AI/Const.lua” </span><span
style='color:red'>--Placing this line at the very top of the file makes this
file refer to the Const.lua file.</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'>A data structure in which data is
saved in a certain order is useful in scripting.<span
style='mso-spacerun:yes'>&nbsp; </span>For the purposes of Homunculus AI, we
will be using a data structure, classified as a List, in order to store queued
commands to the Homunculus, targets, and other information that may be useful
in Homunculus operation. </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'>(Refer Util.lua)</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.new
()</span><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Returns a new list</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.pushleft
(list, value)<span style='mso-tab-count:1'> </span></span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Adds a component to the left side of list</span> </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.pushright
(list, value)</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Adds a component to the right side of list</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.popleft
(list)</span><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Summons the first value at the left side of list</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.popright
(list)<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Summons the first value at the right side of list</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.clear
(list)<span style='mso-tab-count:1'> </span></span><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Empties the current list</span> </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>List.size
(list)<span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- The total numbers of components saved in the list</span>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:red'>The
following is a list of computation functions that are frequently used. <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>GetDistance
(x1,y1,x2,y2)</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Cell distance between two coordinates (Positive number
value)</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>GetDistance2
(id1, id2)</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Cell distance between two objects (Positive number value)</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>GetOwnerPosition
(id)<span style='mso-tab-count:1'>&nbsp; </span></span><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Owner’s location</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>GetDistanceFromOwner
(id)</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Distance from the owner</span> </p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>IsOutOfSight
(id1,id2)<span style='mso-tab-count:1'>&nbsp; </span></span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- If id1 and id2 are within visual range, this function will
return the “true” value; otherwise, it will return the “false” value.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:12.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>IsInAttackSight
(id1,id2)</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- If id2 is within id1’s attack range, this function return
the “true” value; otherwise, it will return the “false” value.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>5-4 AI.lua Tutorial</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-spacerun:yes'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-spacerun:yes'>&nbsp;</span>Now, let’s
create a new AI.lua. Create a new text file and rename it to “AI.lua.” Open
this new AI.lua file using Notepad and enter the following text at the very top
of the file.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>require<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span>“./AI/Const.lua” <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>require<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span>“./AI/Util.lua”<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>This will enable the AI.lua file to refer to the
Const.lua and Util.lua files located in the AI directory.<span
style='mso-spacerun:yes'>&nbsp; </span>Without this script, the Homunculus AI
cannot access the functions and computations in the Const.lua and Util.lua
files.<span style='mso-spacerun:yes'>&nbsp; </span>Afterwards, add the most
essential function required in the “AI.lua.”</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function AI (myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>This simple script is the minimum requirement for the
Homunculus AI to execute without any errors.<span
style='mso-spacerun:yes'>&nbsp; </span>However, no behaviors have yet been coded
and therefore, your Homunculus is only capable of standing still.<span
style='mso-spacerun:yes'>&nbsp; </span>For the Homunculus to exhibit actual
behaviors, we will need to define the Homunculus states that we have planned
earlier: IDLE, FOLLOW, CHASE, and ATTACK. </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>IDLE_ST<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0 --- Idle</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>FOLLOW_ST<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
1 --- Follow</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>CHASE_ST<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
2 --- Chase</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>ATTACK_ST<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
3 --- Attack</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>You will need to include a variable for remembering the
Homunculus’s current state into your AI script.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>You must also know your Homunculus’s id, enemy’s id and
the destination coordinates for issued commands.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>-- Global variables</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyState<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
IDLE_ST<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Initial state</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyEnemy<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Enemy’s ID</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyDestX<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
x coordinate of a destination</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyDestY<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
y coordinate of a destination</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyPatrolX<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
x coordinate of a scouting location</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyPatrolY<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
y coordinate of a scouting location</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>ResCmdList<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
List.new()<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
List of queued commands</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MyID<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Homunculus ID</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MySkill<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Homunculus skills</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>MySkillLevel<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
0<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Homunculus skill level</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function AI (myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>MyID
= myid<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'>The OnIDLE_ST() function
defines the Homunculus’s behaviors when it enters the IDLE status.<o:p></o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'>In the following script, the
Homunculus will check if any monsters are attacking the owner.<span
style='mso-spacerun:yes'>&nbsp; </span>The Homunculus defines a monster that
targets its owner for an attack as the owner’s enemy.<span
style='mso-spacerun:yes'>&nbsp; </span>It will then define the owner’s enemy as
its own enemy, transition to the CHASE state and chase the monster until is
further than 3 cells away from its owner.<span style='mso-spacerun:yes'>&nbsp;
</span>After reaching a distance of three cells, the Homunculus will transition
to the FOLLOW state and return to its owner’s location.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function<span
style='mso-tab-count:1'>&nbsp; </span>OnIDLE_ST ()<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>object =
GetOwnerEnemy (MyID)<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Defines the owner’s enemies as “object.”</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(object ~= 0) then<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- If any of the owner’s enemies are present</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#339966'>MyState = CHASE_ST<span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span
style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Homunculus transitions to CHASE state</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#339966'>MyEnemy = object <span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Remember the enemy’s ID; Owner’s enemy is now Homunculus’s
enemy<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#339966'>return <span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:red'>-- Finish the function</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>object
= GetMyEnemy (MyID)<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Defines the Homunculus’s enemies as “object.”</span><span
style='color:#339966'> <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(object ~= 0) then<span style='mso-tab-count:7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- If any enemies are present<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyState
= CHASE_ST<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Homunculus transitions to CHASE state</span><span
style='color:#339966'> <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:red'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyEnemy
= object<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Remembers the enemy’s ID</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
distance = GetDistanceFromOwner(MyID)<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Masks distance between Homunculus and owner as a variable
named “distance”</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:-40.0pt;mso-layout-grid-align:none;word-break:normal'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
( distance &gt; 3 or distance == -1) then<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- When the Homunculus is further than 3 cells away from its
owner, or out of the owner’s sight<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span
style='mso-spacerun:yes'>&nbsp;</span><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyState
= FOLLOW_ST<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Homunculus transitions to FOLLOW state</span><span
style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function AI (myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>MyID =
myid<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:40.0pt;
mso-layout-grid-align:none;word-break:normal'><span style='color:#339966'>if
(MyState == IDLE_ST) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:40.0pt;text-align:left;
text-indent:40.0pt;mso-layout-grid-align:none;word-break:normal'><span
style='color:#339966'>OnIDLE_ST ()<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>In this sample script, the Homunculus will remember
human characters that attack its owner and define them as its own enemies. </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function<span
style='mso-tab-count:1'>&nbsp; </span>GetOwnerEnemy (myid)<span
style='mso-tab-count:7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Find the owner’s enemy.</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
result = 0<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
owner<span style='mso-spacerun:yes'>&nbsp; </span>= GetV (V_OWNER,myid)<span
style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- The owner<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
actors = GetActors ()<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Objects within the owner’s sight</span><span
style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
enemys = {}<span style='mso-tab-count:7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>--A table that records the owner’s <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:408.0pt;
mso-char-indent-count:34.0;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'>enemies<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
index = 1<span style='mso-tab-count:8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
target<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for
i,v in ipairs(actors) do<span style='mso-tab-count:7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Patrol around every object within<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:408.0pt;
mso-char-indent-count:34.0;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'>the owner’s sight.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(v ~= owner and v ~= myid) then<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Target of an object<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>target
= GetV (V_TARGET,v)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(target == owner) then<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- If the target is the owner</span><span style='color:#339966'>
<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(IsMonster(v) == 1) then<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- and if the object is a monster</span><span
style='color:#339966'> <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>enemys[index]
= v<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- add it on the owner’s enemy list</span><span
style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>index
= index+1<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<span
style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- If the object is not a monster,</span><span
style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
motion = GetV(V_MOTION,i)<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- check the current action of the <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:408.0pt;
mso-char-indent-count:34.0;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'>object<o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0in;text-align:left;
text-indent:-1.0in;mso-char-indent-count:-6.0;mso-layout-grid-align:none;
word-break:normal'><span style='color:#339966'><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(motion == MOTION_ATTACK or motion == MOTION_ATTACK2) then <o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:1.0in;mso-para-margin-left:
6.0gd;text-align:left;text-indent:330.0pt;mso-char-indent-count:27.5;
mso-layout-grid-align:none;word-break:normal'><span style='color:red'>&#8211; If the
action is attack<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>enemys[index]
= v<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:red'>-- add the object on the owner’s<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:408.0pt;
mso-char-indent-count:34.0;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'><span style='mso-spacerun:yes'>&nbsp;</span>enemy<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>index
= index+1<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
min_dis = 100<span style='mso-tab-count:7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Define the initial distance as 100</span><span
style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
dis<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for
i,v in ipairs(enemys) do<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Patrol around every enemy <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:408.0pt;
mso-char-indent-count:34.0;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'>of the owner<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dis
= GetDistance2 (myid,v)<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Distance between the owner and<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:402.0pt;
mso-char-indent-count:33.5;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'><span style='mso-spacerun:yes'>&nbsp;</span>an enemy<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(dis &lt; min_dis) then<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- If the distance is closer than the<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:402.0pt;
mso-char-indent-count:33.5;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'><span style='mso-spacerun:yes'>&nbsp;</span>initial distance
(100 cells)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result
= v<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Define the final enemy</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>min_dis
= dis<span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Define the minimum distance<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
result<span style='mso-tab-count:8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Return the result <o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:3.5in;
mso-char-indent-count:21.0;mso-layout-grid-align:none;word-break:normal'><span
style='color:red'>If the result value is 0, none of the owner’s enemies are
present. Otherwise, the owner is being attacked.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>A Homunculus can define specific monsters or characters
as enemies, record them into a list, and then determine if they are
present.<span style='mso-spacerun:yes'>&nbsp; </span>Users can then script the
AI so that a Homunculus can take action on a predefined enemy before the enemy
attacks.<span style='mso-spacerun:yes'>&nbsp; </span>The previous scripts are
suitable for a passive Homunculus that will only battle after it is attacked.<span
style='mso-spacerun:yes'>&nbsp; </span>For an aggressive Homunculus AI, you can
create a script in which your Homunculus will define monsters as enemies so
long as they are on the screen. </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function<span
style='mso-tab-count:1'>&nbsp; </span>GetMyEnemy (myid)<span style='mso-tab-count:
7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Check for Homunculus’s enemies<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
result = 0<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
type = GetV (V_HOMUNTYPE,myid)<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Type of Homunculus used in this script<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(type == LIF or type == LIF_H or type == AMSTR or type == AMSTR_H) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result
= GetMyEnemyA (myid)<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Function for finding non-aggressive</span><span
style='color:#339966'> </span><span style='color:red'>enemies<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>elseif
(type == FILIR or type == FILIR_H or type == VANILMIRTH or type ==
VANILMIRTH_H) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result
= GetMyEnemyB (myid)<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Function for finding aggressive enemies<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
result<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>-------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>--<span style='mso-spacerun:yes'>&nbsp;
</span>non-aggressive GetMyEnemy</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>-------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function<span
style='mso-tab-count:1'>&nbsp; </span>GetMyEnemyA (myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
result = 0<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
owner<span style='mso-spacerun:yes'>&nbsp; </span>= GetV (V_OWNER,myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
actors = GetActors ()<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
enemys = {}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
index = 1<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
target<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for
i,v in ipairs(actors) do<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(v ~= owner and v ~= myid) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>target
= GetV (V_TARGET,v)<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(target == myid) then<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>enemys[index]
= v<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Define objects attacking Homunculus as its enemies<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:red'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>index
= index+1<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
min_dis = 100<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
dis<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for
i,v in ipairs(enemys) do<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dis
= GetDistance2 (myid,v)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(dis &lt; min_dis) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result
= v<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>min_dis
= dis<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
result<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>-------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>--<span style='mso-spacerun:yes'>&nbsp;
</span>Aggressive GetMyEnemy</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>-------------------------------------------</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function<span
style='mso-tab-count:1'>&nbsp; </span>GetMyEnemyB (myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
result = 0<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
owner<span style='mso-spacerun:yes'>&nbsp; </span>= GetV (V_OWNER,myid)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
actors = GetActors ()<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
enemys = {}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
index = 1<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
type<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for
i,v in ipairs(actors) do<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(v ~= owner and v ~= myid) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(1 == IsMonster(v))<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>enemys[index]
= v<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Define every monster around Homunculus as its enemy<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>index
= index+1<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
min_dis = 100<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
dis<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>for
i,v in ipairs(enemys) do<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dis
= GetDistance2 (myid,v)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(dis &lt; min_dis) then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result
= v<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>min_dis
= dis<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
result<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>A Homunculus’s owner directly issues commands to the
Homunculus, via the Mouse or Shortcut keys or RO client interface, that are
sent to the Homunculi AI script as message strings.<span
style='mso-spacerun:yes'>&nbsp; </span>The following lines must be added under
the AI(myid) function in the AI.lua file for the Homunculi AI to receive and
interpret message strings from the RO client so that the Homunculus can perform
direct commands from its owner.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyID
= myid<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
msg<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
GetMsg (myid)<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Receive messages</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
rmsg<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=
GetResMsg (myid)<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Receive reserved message, i.e. queued command<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ProcessCommand
(msg)<span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Perform user’s commands</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
Save reserved message<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
msg[1] == NONE_CMD then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
rmsg[1] ~= NONE_CMD then<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
List.size(ResCmdList) &lt; 10 then<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Set maximum number of messages that can be saved</span><span
style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>List.pushright
(ResCmdList,rmsg)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>List.clear
(ResCmdList)<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Cancel previous reserved commands each time a new command
is received</span><span style='color:#339966'><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Note that the ProcessCommand (msg) function handles
message strings such as OnMOVE_CMD (msg[2],msg[3]).<span
style='mso-spacerun:yes'>&nbsp; </span>The command status functions in this
script, such as OnMOVE_CMD_ST (), are necessary for the Homunculus AI to
confirm whether the Homunculus has completed performing a direct command. </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>5-5. Grammatical Error Check and Writing TraceAI.txt </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>Sometimes, a complete script file may contain
grammatical errors that will cause the RO client to display an error message
while processing the script.<span style='mso-spacerun:yes'>&nbsp;
</span>However, you can check an AI script for errors before running the RO
client by using the lua.exe program included with the latest version of the iRO
client program.<span style='mso-spacerun:yes'>&nbsp; </span>Double-click the
lua.exe file in the RO client folder and enter the following line into the
command prompt:</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>dofile ‘./AI/AI.lua’<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>The lua.exe file will process the AI.lua file and
display a message detailing an error if one is present.<span
style='mso-spacerun:yes'>&nbsp; </span>If the script does not contain any
technical errors, no message will be displayed.<span
style='mso-spacerun:yes'>&nbsp; </span>Even if you have checked the AI.lua
script beforehand, you may occasionally receive an error from the RO client if
you begin the game with a character that possesses a Homunculus.<span
style='mso-spacerun:yes'>&nbsp; </span>In this case, simply open the AI script
and correct the error prior to restarting the RO client.<span
style='mso-spacerun:yes'>&nbsp; </span>Keep in mind that a technically perfect
AI script may contain logical errors resulting in different Homunculus behavior
than was intended.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>In correcting logical errors in the Homunculus AI, you
will need to note the Homunculus’s state transitions and analyze its
behavior.<span style='mso-spacerun:yes'>&nbsp; </span>For example, when an
enemy is in the vicinity, you may want your Homunculus to CHASE it and then
attack it.<span style='mso-spacerun:yes'>&nbsp; </span>If the Homunculus is
chasing the enemy but is not attacking it as intended, this would be considered
a logical error in the script.<span style='mso-spacerun:yes'>&nbsp; </span>The
following is an example script that illustrates this Homunculus behavior.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>function<span
style='mso-tab-count:1'>&nbsp; </span>OnCHASE_ST ()<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TraceAI
(&quot;OnCHASE_ST&quot;)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(true == IsOutOfSight(MyID,MyEnemy)) then<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
ENEMY_OUTSIGHT_IN<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyState
= IDLE_ST<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyEnemy
= 0<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyDestX,
MyDestY = 0,0<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TraceAI
(&quot;CHASE_ST -&gt; IDLE_ST : ENEMY_OUTSIGHT_IN&quot;)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(true == IsInAttackSight(MyID,MyEnemy)) then<span
style='mso-spacerun:yes'>&nbsp; </span>-- ENEMY_INATTACKSIGHT_IN<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyState
= ATTACK_ST<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TraceAI
(&quot;CHASE_ST -&gt; ATTACK_ST : ENEMY_INATTACKSIGHT_IN&quot;)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
x, y = GetV (V_POSITION,MyEnemy)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(MyDestX ~= x or MyDestY ~= y) then<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
DESTCHANGED_IN<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MyDestX,
MyDestY = GetV (V_POSITION,MyEnemy);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Move
(MyID,MyDestX,MyDestY)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TraceAI
(&quot;CHASE_ST -&gt; CHASE_ST : DESTCHANGED_IN&quot;)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TraceAI
(string.format(“OnChase_ST end MyEnemy: %d, EnemyX : %d, EnemyY:%d, MyDestX:%d,
MyDestY:%d\n”,MyEnemy,x,y,MyDestX,MyDestY))<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='color:#339966'>end<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>You can monitor the correlation between Homunculus
response and the AI script by creating a log in the TraceAI.tx file.<span
style='mso-spacerun:yes'>&nbsp; </span>Execute the RO client and enter
“/traceai” into the Chat Window to begin recording Homunculus functions into
the TraceAI.txt file in the RO folder.<span style='mso-spacerun:yes'>&nbsp;
</span>To stop recording, simply entering the /traceai command into the Chat
Window again.<span style='mso-spacerun:yes'>&nbsp; </span>If you want to record
variables, make sure to include the string “string.format” as illustrated in
the sample script above. </p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a name=기타>6- Miscellaneous</a></p>

<span style='mso-bookmark:기타'></span>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>LUA
site<span style='mso-spacerun:yes'>&nbsp; </span><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>: <a
href="http://www.lua.org/">http://www.lua.org</a></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><a name=변경사항>7- Update History</a></p>

<div style='border:none;border-bottom:solid windowtext 1.0pt;mso-border-bottom-alt:
solid windowtext .75pt;padding:0in 0in 1.0pt 0in'>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal;border:none;mso-border-bottom-alt:solid windowtext .75pt;
padding:0in;mso-padding-alt:0in 0in 1.0pt 0in'><span style='mso-bookmark:변경사항'>&nbsp;</span></p>

</div>

<p class=MsoDate><span style='mso-bookmark:변경사항'>2005.09.27</span></p>

<p class=MsoNormal align=left style='margin-left:30.2pt;text-align:left;
text-indent:-10.2pt;mso-list:l1 level1 lfo4;mso-layout-grid-align:none;
word-break:normal'><span style='mso-bookmark:변경사항'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1)
</span></span><![endif]>New Homunculus types have been added. Homunculus type definitions
in the Const.lua file and the GetMyEnemy function in the AI.lua file have been
updated.<span style='mso-spacerun:yes'>&nbsp; </span>You must edit the
Const.lua and AI.lua files to customize your Homunculus AI.</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'>2005-07-19</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'>1) You can now queue
movement or attack commands while the Homunculus is performing another action.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'>Right-click on a
cell while pressing the Shift and Alt keys to queue a movement destination.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'>Right-click on a
target while pressing the Shift and Alt keys to queue attacks.<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'><b style='mso-bidi-font-weight:
normal'>In this sample script, the Homunculus will check for queued commands
and then perform them if it is not carrying out any commands.<span
style='mso-spacerun:yes'>&nbsp; </span>Recently queued commands will be added
to the very last line in the Reserve Command List (ResCmdList).<o:p></o:p></b></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'>function AI (myid)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>…<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
msg[1] == NONE_CMD then<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
rmsg[1] ~= NONE_CMD then<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
List.size(ResCmdList) &lt; 10 then<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>List.pushright
(ResCmdList,rmsg) </span><span style='color:red'>&#8211; Save reserved commands</span><span
style='color:#339966'><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:120.0pt;
mso-char-indent-count:10.0;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'>end<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>List.clear
(ResCmdList)<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- Delete previous reserved commands when a new command is
entered.</span><span style='color:#339966'><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ProcessCommand
(msg)<span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span
style='color:red'>-- Perform a command.</span><span style='color:#339966'> <o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>…</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal'><span
style='mso-bookmark:변경사항'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'><span style='mso-bookmark:
변경사항'><b style='mso-bidi-font-weight:normal'>This sample script enables your
Homunculus to perform queued commands when it is in the IDLE state.<span
style='mso-spacerun:yes'>&nbsp; </span>Specifically, it checks the ResCmdList
for any queued commands that have been recorded and will try to perform them
upon entering the IDLE state.&nbsp;<o:p></o:p></b></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'>function<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>OnIDLE_ST
()<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TraceAI
(&quot;OnIDLE_ST&quot;)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>local
cmd = List.popleft(ResCmdList)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(cmd ~= nil) then<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ProcessCommand
(cmd)<span style='mso-tab-count:1'>&nbsp; </span></span><span style='color:
red'>-- Perform a reserved command</span><span style='color:#339966'><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return
<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>…<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'><span style='mso-bookmark:변경사항'><b style='mso-bidi-font-weight:
normal'>The following script is useful if you command the Homunculus to move to
a destination that is too far away for the server to process.<span
style='mso-spacerun:yes'>&nbsp; </span>The Homunculus will move to a midpoint
that between the destination at the first line of the reserved command list and
the Homunculus’s current location. <o:p></o:p></b></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal'><span
style='mso-bookmark:변경사항'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'>function<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>OnMOVE_CMD
(x,y)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>…<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:39.95pt;
mso-char-indent-count:3.33;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:11.95pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'>local curX, curY = GetV (V_POSITION,MyID)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(math.abs(x-curX)+math.abs(y-curY) &gt; 15) then<span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>--</span><span style='color:#339966'> </span><span
style='color:red'>If a destination is further than a specific distance, in this
case, a distance that is too long for the server to process<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>List.pushleft
(ResCmdList,{MOVE_CMD,x,y})<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><sub><span
style='color:red'>--</span></sub><span style='color:#339966'> </span><span
style='color:red'>Coordinates of the original destination are saved in the
first line of ResCmdList.</span><span style='color:#339966'> <span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>x
= math.floor((x+curX)/2)<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:red'>-- New location is calculated as a midpoint between original
destination and current location.</span><span style='color:#339966'><span
style='mso-spacerun:yes'>&nbsp; </span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>y
= math.floor((y+curY)/2)<span style='mso-tab-count:7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>--
<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>…<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'><span
style='color:#339966'>end<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in;
mso-char-indent-count:1.5;mso-layout-grid-align:none;word-break:normal;
mso-char-indent-size:12pt'><span style='mso-bookmark:변경사항'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal;mso-char-indent-size:12pt'><span style='mso-bookmark:
변경사항'>&nbsp;</span></p>

<p class=MsoNormal align=left style='margin-left:30.2pt;text-align:left;
text-indent:-10.2pt;mso-list:l1 level1 lfo4;mso-layout-grid-align:none;
word-break:normal'><span style='mso-bookmark:변경사항'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2)
</span></span><![endif]>Incorrect command number NOME_CMD in Const.lua file has
been corrected as NONE_CMD.</span></p>

<p class=MsoNormal align=left style='margin-left:30.2pt;text-align:left;
text-indent:-10.2pt;mso-list:l1 level1 lfo4;mso-layout-grid-align:none;
word-break:normal'><span style='mso-bookmark:변경사항'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>3)
</span></span><![endif]>User AI folder added</span></p>

<p class=MsoNormal align=left style='margin-left:20.0pt;text-align:left;
text-indent:10.2pt;mso-layout-grid-align:none;word-break:normal'><span
style='mso-bookmark:변경사항'>Shortcut key and Chat Window commands that enable
users to switch between basic AI and custom AI</span> added</p>

<p class=MsoNormal align=left style='margin-left:20.0pt;text-align:left;
text-indent:10.2pt;mso-layout-grid-align:none;word-break:normal'>Command to
toggle between basic and custom AI: /hoai </p>

<p class=MsoNormal align=left style='margin-left:20.0pt;text-align:left;
text-indent:10.2pt;mso-layout-grid-align:none;word-break:normal'>Custom AI in
User AI folder will not be affected by any changes made in basic AI.</p>

<p class=MsoNormal align=left style='margin-left:20.0pt;text-align:left;
text-indent:10.2pt;mso-layout-grid-align:none;word-break:normal'>The AI(myid)
function must be defined in the AI.lua file in the User AI folder to activate a
custom AI script</p>

<p class=MsoNormal align=left style='margin-left:20.0pt;text-align:left;
text-indent:10.2pt;mso-layout-grid-align:none;word-break:normal'>If you wish to
use someone else’s AI script, copy that script into the USER_AI folder inside
the existing AI folder.</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;word-break:normal'>4) Pressing the Alt+T keys or clicking the [Standby]
button in the Homunculus information window during the Standby status,
FOLLOW_CMD_ST, will change the Homunculus’s state to IDLE (IDLE_ST).<span
style='mso-spacerun:yes'>&nbsp; </span>For this update, the OnFOLLOW_CMD used
in the AI.lua file has been modified.</p>

</div>

</body>

</html>
